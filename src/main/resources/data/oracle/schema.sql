DROP TABLE Auxiliar;
DROP TABLE Camion;
DROP TABLE CARGA;
DROP TABLE CentroAcopio;
DROP TABLE Pedido;
DROP TABLE Transportador;
DROP TABLE Cliente;
DROP TABLE Empresa;
DROP TABLE Cuentas;
DROP TABLE Usuario;
DROP SEQUENCE SEQ_CARGA_ID;
DROP SEQUENCE SEQ_CentroAcopio_ID;
DROP SEQUENCE SEQ_Cliente_ID;
DROP SEQUENCE SEQ_Empresa_ID;
DROP SEQUENCE SEQ_Pedido_ID;
DROP SEQUENCE SEQ_Transportador_ID;
DROP SEQUENCE SEQ_Usuario_ID;
DROP SEQUENCE SEQ_Auxiliar_ID;
DROP SEQUENCE SEQ_Camion_ID;

CREATE TABLE  Auxiliar
(
	"ID" NUMBER(8,2) NOT NULL,
	"CENTROACOPIO_FK" NUMBER(8,2) NULL,
	"NOMBRE" VARCHAR2(50) NULL,
	"ESTADO" VARCHAR2(50) NULL,
	"HORARIO" DATE NULL
)
;

CREATE TABLE  Camion
(
	"ID" NUMBER(8,2) NOT NULL,
	"TRANSPORTADOR_PK" NUMBER(8,2) NULL,
	"PLACA" VARCHAR2(7) NULL,
	"MARCA" VARCHAR2(50) NULL,
	"MODELO" VARCHAR2(50) NULL,
	"ANO" VARCHAR2(50) NULL,
	"TIPO" VARCHAR2(50) NULL,
	"PESO" NUMBER(8,2) NULL,
	"LARGO" NUMBER(8,2) NULL,
	"ANCHO" NUMBER(8,2) NULL,
	"ALTO" NUMBER(8,2) NULL
)
;

CREATE TABLE  CARGA
(
	"ID" NUMBER(8,2) NOT NULL,
	"DESCRIPCION" VARCHAR2(350) NULL,
	"VALOR" NUMBER(8,2) NULL,
	"PESO" NUMBER(8,2) NULL,
	"LARGO" NUMBER(8,2) NULL,
	"ANCHO" NUMBER(8,2) NULL,
	"ALTO" NUMBER(8,2) NULL,
	"EMBALAJE" VARCHAR2(50) NULL,
	"TIPO" VARCHAR2(50) NULL,
	"PEDIDO_FK" NUMBER(8,2) NULL
)
;

CREATE TABLE  CentroAcopio
(
	"ID" NUMBER(8,2) NOT NULL,
	"CIUDAD" VARCHAR2(50) NULL,
	"DIRECCION" VARCHAR2(50) NULL,
	"UBICACION_CORD" VARCHAR2(50) NULL,
	"EMPRESA_FK" NUMBER(8,2) NULL
)
;

CREATE TABLE  Cliente
(
	"ID" NUMBER(8,2) NOT NULL,
	"USUARIO_FK" NUMBER(8,2) NULL,
	"CUENTA_FK" NUMBER(8,2) NULL
)
;

CREATE TABLE  Cuentas
(
	"ID" NUMBER(8,2) NOT NULL,
	"NUMERO" VARCHAR2(50) NULL,
	"BANCO" VARCHAR2(50) NULL,
	"TARJETA_CREDITO" VARCHAR2(50) NULL,
	"FECHA_VENCIMIENTO" DATE NULL,
	"CODIGO_SEGURIDAD" VARCHAR2(3) NULL
)
;

CREATE TABLE  Empresa
(
	"ID" NUMBER(8,2) NOT NULL,
	"NIT" VARCHAR2(50) NULL,
	"ASEGURADORA" VARCHAR2(50) NULL,
	"VALOR_MAXIMO_SEGURO" NUMBER(8,2) NULL,
	"VALOR_MINIMO_SEGURO" NUMBER(8,2) NULL,
	"USUARIO_FK" NUMBER(8,2) NULL,
	"CUENTA_FK" NUMBER(8,2) NULL
)
;

CREATE TABLE  Pedido
(
	"ID" NUMBER(8,2) NOT NULL,
	"EMPRESA_FK" NUMBER(8,2) NULL,
	"CLIENTE_FK" NUMBER(8,2) NULL,
	"FECHA_HORA_SALIDA" DATE NULL,
	"FECHA_HORA_LLEGADA" DATE NULL,
	"LUGAR_CARGA_CORD" VARCHAR2(50) NULL,
	"LUGAR_DESCARGA_CORD" VARCHAR2(50) NULL,
	"LUGAR_CARGA_DIR" VARCHAR2(50) NULL,
	"LUGAR_DESCARGA_DIR" VARCHAR2(50) NULL,
	"LUGAR_CARGA_CIUDAD" VARCHAR2(50) NULL,
	"LUGAR_DESCARGA_CIUDAD" VARCHAR2(50) NULL,
	"LUGAR_CARGA" VARCHAR2(50) NULL,
	"LUGAR_DESCARGA" VARCHAR2(50) NULL,
	"ASEGURADA" VARCHAR2(50) NULL,
	"ESTADO" VARCHAR2(50) NULL,
	"PRECIO" NUMBER(8,2) NULL
)
;

CREATE TABLE  Transportador
(
	"ID" NUMBER(8,2) NOT NULL,
	"USUARIO_FK" NUMBER(8,2) NULL,
	"EMPRESA_FK" NUMBER(8,2) NULL,
	"NUMERO_LICENCIA" VARCHAR2(50) NULL,
	"CEDULA" VARCHAR2(50) NULL,
	"ESTADO" VARCHAR2(50) NULL
)
;

CREATE TABLE  Usuario
(
	"ID" NUMBER(8,2) NOT NULL,
	"USUARIO" VARCHAR2(150) NULL,
	"CLAVE" VARCHAR2(150) NULL,
	"NOMBRE" VARCHAR2(150) NULL    -- Transportardor: Nombre del transportador Empresa : Nombre de la empresa Cliente: Nombre de la empresa cliente
)
;

ALTER TABLE  Auxiliar
 ADD CONSTRAINT "PK_Auxiliar"
	PRIMARY KEY ("ID") 
 USING INDEX
;

ALTER TABLE  Camion
 ADD CONSTRAINT "PK_Camion"
	PRIMARY KEY ("ID") 
 USING INDEX
;

ALTER TABLE  CARGA
 ADD CONSTRAINT "PK_CARGA"
	PRIMARY KEY ("ID") 
 USING INDEX
;

ALTER TABLE  CentroAcopio
 ADD CONSTRAINT "PK_CentrosAcopio"
	PRIMARY KEY ("ID") 
 USING INDEX
;

ALTER TABLE  Cliente
 ADD CONSTRAINT "PK_Cliente"
	PRIMARY KEY ("ID") 
 USING INDEX
;

ALTER TABLE  Cuentas
 ADD CONSTRAINT "PK_Cuentas"
	PRIMARY KEY ("ID") 
 USING INDEX
;

ALTER TABLE  Empresa
 ADD CONSTRAINT "PK_Empresa"
	PRIMARY KEY ("ID") 
 USING INDEX
;

ALTER TABLE  Pedido
 ADD CONSTRAINT "PK_Pedido"
	PRIMARY KEY ("ID") 
 USING INDEX
;

ALTER TABLE  Transportador
 ADD CONSTRAINT "PK_Transportador"
	PRIMARY KEY ("ID") 
 USING INDEX
;

ALTER TABLE  Usuario
 ADD CONSTRAINT "PK_Usuario"
	PRIMARY KEY ("ID") 
 USING INDEX
;

CREATE SEQUENCE SEQ_Auxiliar_ID
	INCREMENT BY 1 
	START WITH 1 
	NOMAXVALUE 
	MINVALUE  1 
	NOCYCLE 
	NOCACHE 
	NOORDER
;

CREATE SEQUENCE SEQ_Camion_ID
	INCREMENT BY 1 
	START WITH 1 
	NOMAXVALUE 
	MINVALUE  1 
	NOCYCLE 
	NOCACHE 
	NOORDER
;

CREATE SEQUENCE SEQ_CARGA_ID
	INCREMENT BY 1 
	START WITH 1 
	NOMAXVALUE 
	MINVALUE  1 
	NOCYCLE 
	NOCACHE 
	NOORDER
;

CREATE SEQUENCE SEQ_CentroAcopio_ID
	INCREMENT BY 1 
	START WITH 1 
	NOMAXVALUE 
	MINVALUE  1 
	NOCYCLE 
	NOCACHE 
	NOORDER
;

CREATE SEQUENCE SEQ_Cliente_ID
	INCREMENT BY 1 
	START WITH 1 
	NOMAXVALUE 
	MINVALUE  1 
	NOCYCLE 
	NOCACHE 
	NOORDER
;

CREATE SEQUENCE SEQ_Empresa_ID
	INCREMENT BY 1 
	START WITH 1 
	NOMAXVALUE 
	MINVALUE  1 
	NOCYCLE 
	NOCACHE 
	NOORDER
;

CREATE SEQUENCE SEQ_Pedido_ID
	INCREMENT BY 1 
	START WITH 1 
	NOMAXVALUE 
	MINVALUE  1 
	NOCYCLE 
	NOCACHE 
	NOORDER
;

CREATE SEQUENCE SEQ_Transportador_ID
	INCREMENT BY 1 
	START WITH 1 
	NOMAXVALUE 
	MINVALUE  1 
	NOCYCLE 
	NOCACHE 
	NOORDER
;

CREATE SEQUENCE SEQ_Usuario_ID
	INCREMENT BY 1 
	START WITH 1 
	NOMAXVALUE 
	MINVALUE  1 
	NOCYCLE 
	NOCACHE 
	NOORDER
;


CREATE INDEX IXFK_Auxiliar_CentroAcopio
 ON  Auxiliar ("CENTROACOPIO_FK")
;

CREATE INDEX IXFK_Camion_Transportador
 ON  Camion ("TRANSPORTADOR_PK")
;

CREATE INDEX IXFK_CARGA_Pedido 
 ON  CARGA ("PEDIDO_FK")
;

CREATE INDEX IXFK_CentrosAcopio_Empresa 
 ON  CentroAcopio ("EMPRESA_FK")
;

CREATE INDEX IXFK_Cliente_Cuentas 
 ON Cliente ("CUENTA_FK")
;

CREATE INDEX IXFK_Cliente_Usuario 
 ON  Cliente ("USUARIO_FK")
;

CREATE INDEX IXFK_Empresa_Cuentas 
 ON  Empresa ("CUENTA_FK")
;

CREATE INDEX IXFK_Empresa_Usuario 
 ON  Empresa ("USUARIO_FK")
;

CREATE INDEX IXFK_Pedido_Cliente 
 ON  Pedido ("CLIENTE_FK")
;

CREATE INDEX IXFK_Pedido_Empresa 
 ON  Pedido ("EMPRESA_FK")
;

CREATE INDEX IXFK_Transportador_Empresa 
 ON  Transportador ("EMPRESA_FK")
;

CREATE INDEX IXFK_Transportador_Usuario 
 ON  Transportador ("USUARIO_FK")
;


ALTER TABLE  Auxiliar
 ADD CONSTRAINT "FK_Auxiliar_CentroAcopio"
	FOREIGN KEY ("CENTROACOPIO_FK") REFERENCES CentroAcopio ("ID")
;

ALTER TABLE  Camion
 ADD CONSTRAINT "FK_Camion_Transportador"
	FOREIGN KEY ("TRANSPORTADOR_PK") REFERENCES Transportador ("ID") ON DELETE Cascade
;

ALTER TABLE  CARGA
 ADD CONSTRAINT "FK_CARGA_Pedido"
	FOREIGN KEY ("PEDIDO_FK") REFERENCES Pedido ("ID")
;

ALTER TABLE  CentroAcopio
 ADD CONSTRAINT "FK_CentrosAcopio_Empresa"
	FOREIGN KEY ("EMPRESA_FK") REFERENCES Empresa ("ID")
;

ALTER TABLE  Cliente
 ADD CONSTRAINT "FK_Cliente_Cuentas"
	FOREIGN KEY ("CUENTA_FK") REFERENCES Cuentas ("ID")
;

ALTER TABLE  Cliente
 ADD CONSTRAINT "FK_Cliente_Usuario"
	FOREIGN KEY ("USUARIO_FK") REFERENCES Usuario ("ID") ON DELETE Cascade
;

ALTER TABLE  Empresa
 ADD CONSTRAINT "FK_Empresa_Cuentas"
	FOREIGN KEY ("CUENTA_FK") REFERENCES Cuentas ("ID")
;

ALTER TABLE  Empresa
 ADD CONSTRAINT "FK_Empresa_Usuario"
	FOREIGN KEY ("USUARIO_FK") REFERENCES Usuario ("ID") ON DELETE Cascade
;

ALTER TABLE  Pedido
 ADD CONSTRAINT "FK_Pedido_Cliente"
	FOREIGN KEY ("CLIENTE_FK") REFERENCES Cliente ("ID")
;

ALTER TABLE  Pedido
 ADD CONSTRAINT "FK_Pedido_Empresa"
	FOREIGN KEY ("EMPRESA_FK") REFERENCES Empresa ("ID")
;

ALTER TABLE  Transportador
 ADD CONSTRAINT "FK_Transportador_Empresa"
	FOREIGN KEY ("EMPRESA_FK") REFERENCES Empresa ("ID") ON DELETE Cascade
;

ALTER TABLE  Transportador
 ADD CONSTRAINT "FK_Transportador_Usuario"
	FOREIGN KEY ("USUARIO_FK") REFERENCES Usuario ("ID") ON DELETE Cascade
;